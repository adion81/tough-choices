(this["webpackJsonptough-choices"]=this["webpackJsonptough-choices"]||[]).push([[0],{102:function(e,t){},110:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(48),l=a.n(o),r=(a(56),a(1)),s=(a(57),a(14)),i=a(4),u=Object(n.createContext)(),m=a(3),d=a.n(m),h=a(6),p=a.n(h),g=a(7),b=function(e){var t=Object(n.useContext)(u);console.log(t);var a=Object(n.useState)((function(){return p()("http://".concat("192.168.0.169",":8000"))})),o=Object(r.a)(a,1)[0],l=Object(n.useState)({name:"",initials:"",color:"#ff0000"}),m=Object(r.a)(l,2),h=m[0],b=m[1],f=Object(n.useState)(""),E=Object(r.a)(f,2),y=E[0],v=E[1],N=function(e){b(Object(i.a)(Object(i.a)({},h),{},Object(s.a)({},e.target.name,e.target.value)))},x={display:"block",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"midnightblue",padding:"5px",borderRadius:"5px",margin:"10px auto",width:"25%",textAlign:"center",boxShadow:"2px 2px 2px midnightblue"},j={boxShadow:"2px 2px 2px midnightblue"};return c.a.createElement("div",{style:{padding:"70px",textAlign:"center",color:"white"}},c.a.createElement("h2",null,"Tough Choices Sign In"),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),h.money=Math.floor(20*Math.random())+18,h.goodWill=Math.floor(20*Math.random())+18,d.a.post("http://".concat("192.168.0.169",":8000/api/tc/user/").concat(y),h).then((function(e){e.data.errors?console.log(e.data.errors):"none"===e.data.msg?console.log(e.data.msg):e.data.tc.active?(console.log(e.data.userId),localStorage.setItem("tcKey",y),localStorage.setItem("userKey",e.data.userId),t.setUserId(e.data.userId),t.setTcId(y),o.emit("added-user",{id:y}),b({name:"",initials:"",color:"#ff0000"}),v(""),Object(g.b)("/tough-choices/scenario")):alert("This scenario is not active.")})).catch((function(e){console.log(e.response),console.log(e)}))}(e)},className:"sign-in col-lg-4 mx-auto p-5 d-flex flex-column justify-content-around "},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{style:x},"Name"),c.a.createElement("input",{type:"text",style:j,className:"form-control",name:"name",value:h.name,placeholder:"ex:  Jane Smith",onChange:function(e){return N(e)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{style:x,className:"mx-auto"},"Initials"),c.a.createElement("input",{type:"text",value:h.initials,style:j,name:"initials",className:"form-control",placeholder:"ex: JS",onChange:function(e){return N(e)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{style:x,className:"mx-auto"},"Color"),c.a.createElement("input",{type:"color",className:"form-control",style:j,value:h.color,name:"color",onChange:function(e){return N(e)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{style:x,className:"mx-auto"},"Code"),c.a.createElement("input",{type:"text",value:y,style:j,name:"access",className:"form-control",placeholder:"ex: 507f1f77bcf86cd799439011",onChange:function(e){return v(e.target.value)}})),c.a.createElement("input",{type:"submit",style:j,value:"JOIN TOUGH CHOICES",className:"btn btn-info"})))},f=(a(110),a(50)),E=a.n(f),y=function(e){var t=E()(e.color,!0);return c.a.createElement("p",{className:"avatar text-center",style:{backgroundColor:e.color,color:t}},e.initials)},v=function(e){var t=e.title,a=e.costGreen,n=e.costYellow,o=e.houseHold,l=e.users,r=e.id,s=e.handleMovePopUp;return c.a.createElement("div",{onClick:s?function(e){return s(e,r,a,n)}:console.log(),style:{height:"300px"},className:"card p-0 col-3 mx-1 my-2 mx-lg-2 my-lg-4"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h6",{className:"card-title"},t)),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"},"Cost:",c.a.createElement("br",null)," ",c.a.createElement("span",{className:"text"},a," Greens & ",n," Yellows")),c.a.createElement("p",{className:"card-text"},"Household:",c.a.createElement("br",null)," ",c.a.createElement("span",null,o))),c.a.createElement("div",{className:"card-footer"},l.map((function(e,t){return c.a.createElement(y,{key:t,initials:e.initials,color:e.color,users:l})}))))},N=function(e){var t=Object(n.useState)([{id:"home",title:"House(Subsidized)",houseHold:"You, Your Teen, Your Twins, Your Dog",costGreen:2,costYellow:0},{id:"car",title:"Sleeping In Car",houseHold:"You, Your Teen, Your Twins, Your Dog",costGreen:1,costYellow:0},{id:"apartment",title:"Private Apartment",houseHold:"You, Your Teen, Your Twins, Your Dog",costGreen:4,costYellow:0},{id:"friend",title:"Friend/Family",houseHold:"You, Your Teen, Your Twins",costGreen:1,costYellow:1},{id:"hotel",title:"Single Room Hotel",houseHold:"You",costGreen:1,costYellow:2},{id:"shelter",title:"Family Shelter",houseHold:"You, Your Twins",costGreen:2,costYellow:0}]),a=Object(r.a)(t,1)[0];return c.a.createElement("div",{className:"col-lg-8 col-12 d-flex flex-wrap justify-content-around text-dark"},a.map((function(t,a){return c.a.createElement(v,{key:a,title:t.title,costGreen:t.costGreen,costYellow:t.costYellow,houseHold:t.houseHold,users:e.users.filter((function(e){return e.position===t.id})),handleMovePopUp:e.handleMovePopUp,id:t.id})})))},x=function(e){var t=Object(n.useState)((function(){return p()("http://".concat("192.168.0.169",":8000"))})),a=Object(r.a)(t,1)[0],o=Object(n.useState)(localStorage.getItem("tcKey")||""),l=Object(r.a)(o,1)[0],s=Object(n.useState)(null),u=Object(r.a)(s,2),m=u[0],h=u[1],g=Object(n.useState)(""),b=Object(r.a)(g,2),f=b[0],E=b[1],y=Object(n.useState)(""),v=Object(r.a)(y,2),x=v[0],j=v[1];Object(n.useEffect)((function(){d.a.get("http://".concat("192.168.0.169",":8000/api/tc/").concat(l)).then((function(e){return h(e.data)})).catch((function(e){return console.log(e)}))}),[l]);a.on("update-tc",(function(e){var t;console.log(e.id),t=e.id,null!==m&&(m.title===t?d.a.get("http://".concat("192.168.0.169",":8000/api/tc/").concat(t)).then((function(e){return h(e.data)})).catch((function(e){return console.log(e)})):console.log("Something went wrong"))}));return c.a.createElement("div",{style:{color:"white",backgroundColor:"midnightblue"}},c.a.createElement("h1",{className:"text-center text-light bg-dark"},"Facilitation Station"),c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement("fieldset",{className:"col-6 field-style"},c.a.createElement("legend",{className:"legend"},"Participant Stats"),c.a.createElement("div",{style:{height:"500px",overflowY:"auto"}},c.a.createElement("table",{className:"table table-hover table-light"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"sticky-style"},"User"),c.a.createElement("th",{className:"sticky-style"},"Green In Hand"),c.a.createElement("th",{className:"sticky-style"},"Yellow In Hand"),c.a.createElement("th",{className:"sticky-style"},"PayLoans Taken"),c.a.createElement("th",{className:"sticky-style"},"Dog Given Up"))),c.a.createElement("tbody",null,null===m?null:m.users.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.money),c.a.createElement("td",null,e.goodWill),c.a.createElement("td",null,e.paydayLoan),c.a.createElement("td",null,e.dog?"NO":"YES"))})))))),c.a.createElement("fieldset",{className:"col-4 field-style"},c.a.createElement("legend",{className:"legend"},"Controls"),null===m?c.a.createElement("div",{className:"form-group text-center"},c.a.createElement("label",null,"Unique Tough Choice Title: "),c.a.createElement("input",{className:"form-control",type:"text",onChange:function(e){return E(e.target.value)},value:f}),c.a.createElement("br",null),c.a.createElement("span",{className:"text-danger bg-white"},x.length>0?x:""),c.a.createElement("button",{className:"btn btn-info mx-auto d-block",style:{boxShadow:"2px 2px 2px #99e6d8"},onClick:function(){0===f.length?j("Please enter a title"):(j(""),d.a.post("http://localhost:8000/api/tc",{title:f}).then((function(e){"exists"===e.data.msg?j("This scenario already exsists"):(localStorage.setItem("tcKey",e.data.title),h(e.data))})).catch((function(e){return console.log(e)})))}},"Create Tough Choice")):c.a.createElement("button",{className:"btn btn-danger mx-auto d-block",style:{boxShadow:"2px 2px 2px #99e6d8"},onClick:function(e){var t=Object(i.a)({},m);t.active=!1,d.a.put("http://".concat("192.168.0.169",":8000/api/tc/deactivate/").concat(l),t).then((function(e){localStorage.removeItem("tcKey")})).catch((function(e){return console.log(e)}))}},"Wrap Up"),c.a.createElement("table",{id:"admin"},c.a.createElement("tr",null,c.a.createElement("td",null,"Access Code:"),c.a.createElement("td",null,null===m?"Not Active":m.title)),c.a.createElement("tr",null,c.a.createElement("td",null,"# of Participants"),c.a.createElement("td",null,null===m?"Not Active":m.users.length))))),m?c.a.createElement(N,{handleMovePopUp:console.log("hello"),users:m.users}):null)},j=(a(111),function(e){var t=e.user;return c.a.createElement("div",{className:"card col-12 col-lg-3 "},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement("h4",{className:"card-title"},t.name),c.a.createElement("p",{className:"avatar text-center",style:{fontSize:"100%",backgroundColor:t.color}},t.initials)),c.a.createElement("button",{className:"btn btn-primary",onClick:function(e){localStorage.clear(),Object(g.b)("/tough-choices")}},"Sign Off"),c.a.createElement("div",{id:"stats"},c.a.createElement("h4",{className:"card-title"},"Current HouseHold:"),c.a.createElement("p",{className:"card-title green"},"You"),c.a.createElement("p",{className:t.teen?"green card-title":"red card-title"},"Your Teen"),c.a.createElement("p",{className:t.twins?"green card-title":"red card-title"},"Your Twins"),c.a.createElement("p",{className:t.dog?"green card-title":"red card-title"},"Your Dog")),c.a.createElement("div",{id:"resources"},c.a.createElement("h4",{className:"card-title"},"Resources:"),c.a.createElement("p",{className:"card-text"},"Money: ",t.money),c.a.createElement("progress",{max:"35",value:t.money}),c.a.createElement("p",{className:"card-text"},"Good Will: ",t.goodWill),c.a.createElement("progress",{max:"35",value:t.goodWill}),c.a.createElement("button",{className:"btn btn-danger btn-outline-warning",onClick:e.handlePayDayPopUp},"PayDay Loan"))))}),O=function(e){var t=Object(n.useState)(0),a=Object(r.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(0),i=Object(r.a)(s,2),u=i[0],m=i[1];return c.a.createElement("div",{className:"decision"},c.a.createElement("h2",null,"You are about to move to ",e.name),c.a.createElement("p",null,"Please pay the appropriate amount"),c.a.createElement("div",{className:"m-5"},c.a.createElement("h3",null,"Money: ",e.costM),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return l(0===o?0:o-1)}},"-"),c.a.createElement("h3",{style:{margin:"0 10px"}},o),c.a.createElement("button",{className:"btn btn-success",onClick:function(){return l(o+1)}},"+"))),c.a.createElement("div",{className:"m-5"},c.a.createElement("h3",null,"Good Will: ",e.costG),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return m(0===u?0:u-1)}},"-"),c.a.createElement("h3",{style:{margin:"0 10px"}},u),c.a.createElement("button",{className:"btn btn-success",onClick:function(){return m(u+1)}},"+"))),c.a.createElement("button",{className:"btn btn-warning",onClick:function(t){return e.handleHouseMove(t,e.name,o,u)}},"Submit"))},S=function(e){var t=Object(n.useState)(0),a=Object(r.a)(t,2),o=a[0],l=a[1];return c.a.createElement("div",{className:"decision"},c.a.createElement("h2",null,"PayDay Loan"),c.a.createElement("p",null,"Please Select the Amount"),c.a.createElement("div",{className:"m-5"},c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return l(0===o?0:o-1)}},"-"),c.a.createElement("h3",{style:{margin:"0 10px"}},o),c.a.createElement("button",{className:"btn btn-success",onClick:function(){return l(o+1)}},"+"))),c.a.createElement("button",{className:"btn btn-warning",onClick:function(t){return e.handlePayDay(t,o)}},"Submit"))},w=function(e){var t=Object(n.useState)((function(){return p()("http://".concat("192.168.0.169",":8000"))})),a=Object(r.a)(t,1)[0],o=Object(n.useState)(!1),l=Object(r.a)(o,2),s=l[0],m=l[1],h=Object(n.useContext)(u),g=Object(n.useState)(null),b=Object(r.a)(g,2),f=b[0],E=b[1],y=Object(n.useState)(!1),v=Object(r.a)(y,2),x=v[0],w=v[1],C=Object(n.useState)(!1),Y=Object(r.a)(C,2),k=Y[0],I=Y[1],P=Object(n.useState)({name:"",costM:0,costG:0}),M=Object(r.a)(P,2),T=M[0],G=M[1],H=Object(n.useState)([{name:"Melissa Picciola",initials:"MP",color:"#ff00ff",teen:!0,twins:!0,dog:!0,money:34,goodWill:18,paydayLoan:0,position:"home",choices:[]}]),U=Object(r.a)(H,2),W=U[0],D=U[1];Object(n.useEffect)((function(){a.on("update-tc",(function(e){console.log(e.id),null!==h.tcId&&h.tcId===e.id&&d.a.get("http://".concat("192.168.0.169",":8000/api/tc/").concat(e.id)).then((function(e){return E(e.data)})).catch((function(e){return console.log(e)}))}))}),[a,h.tcId]);return Object(n.useEffect)((function(){d.a.get("http://".concat("192.168.0.169",":8000/api/tc/").concat(h.tcId)).then((function(e){console.log(e.data),E(e.data);var t=e.data.users.filter((function(e){return e._id===h.userId}))[0];console.log(t),D(t)})).catch((function(e){return console.log(e)}))}),[h,s]),c.a.createElement("div",{className:"row justify-content-around p-5"},x?c.a.createElement(O,{handleHouseMove:function(e,t,n,c){console.log(t),w(!1);var o=Object(i.a)({},W);W.money<n?o.money=0:o.money-=n,W.goodWill<c?o.goodWill=0:o.goodWill-=c,"home"===t?(o.position="home",o.teen=!0,o.twins=!0,o.dog=!0):"car"===t?(o.position="car",o.teen=!0,o.twins=!0,o.dog=!0):"apartment"===t?(o.position="apartment",o.teen=!0,o.twins=!0,o.dog=!0):"friend"===t?(o.position="friend",o.teen=!0,o.twins=!0,o.dog=!1):"hotel"===t?(o.position="hotel",o.teen=!1,o.twins=!1,o.dog=!1):"shelter"===t&&(o.position="shelter",o.teen=!1,o.twins=!0,o.dog=!1),console.log(W),d.a.put("http://".concat("192.168.0.169",":8000/api/tc/user/update/").concat(h.userId,"/").concat(h.tcId),{updated:o,choice:{message:"".concat(W.name," chose to live in ").concat(t," and spent ").concat(n," money & ").concat(c," good will.")}}).then((function(e){m(!s),a.emit("updated-user",{id:h.tcId})})).catch((function(e){return console.log(e)}))},name:T.name,costM:T.costM,costG:T.costG}):null,k?c.a.createElement(S,{handlePayDay:function(e,t){var n=Object(i.a)({},W);n.money+=t,n.paydayLoan++,n.loanAmount+=t,d.a.put("http://".concat("192.168.0.169",":8000/api/tc/user/update/").concat(h.userId,"/").concat(h.tcId),{updated:n,choice:{message:"".concat(W.name," accepted a payday loan of ").concat(t," money.")}}).then((function(e){I(!1),a.emit("updated-user",{id:h.tcId}),m(!s)})).catch((function(e){return console.log(e)}))}}):null,f?c.a.createElement(N,{handleMovePopUp:function(e,t,a,n){t!==W.position&&(G({name:t,costM:a,costG:n}),w(!0))},users:f.users}):null,W?c.a.createElement(j,{user:W,handlePayDayPopUp:function(){I(!0)}}):null)};a(112);var C=function(){var e=Object(n.useState)(localStorage.getItem("tcKey")||""),t=Object(r.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(localStorage.getItem("userKey")||""),s=Object(r.a)(l,2),i=s[0],m=s[1];return c.a.createElement("div",{className:"main-bg h-100"},c.a.createElement(u.Provider,{value:{tcId:a,setTcId:o,userId:i,setUserId:m}},c.a.createElement(g.a,null,c.a.createElement(b,{path:"tough-choices/"}),c.a.createElement(x,{path:"tough-choices/facilitator"}),c.a.createElement(w,{path:"tough-choices/scenario"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,a){e.exports=a(113)},56:function(e,t,a){},57:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.1560296d.chunk.js.map